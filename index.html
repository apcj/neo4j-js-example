<!doctype html>
<html>

<div id="log"></div>

<script src="lib/neo4j.js"></script>
<script lang="javascript">
  // Create a Session object to contain all Cypher activity.
  var session = new Session();

  var statement = "MERGE (a:Person {name:'Alice'}) " +
          "MERGE (a)-[:KNOWS]->(b:Person {name:'Bob'}) " +
          "RETURN id(a), id(b)",
      parameters = {};

  // Run a Cypher statement within an implicit transaction
  session.run(statement, parameters,

      // Called on receipt of each RECORD
      function(record) {
        console.log("Values: " + record.join());
      },

      // Called on receipt of header summary message
      function(success, metadata) {
        if (success) {
          console.log("Fields: " + metadata["fields"].join());
        }
        else {
          console.log("FAILURE");
        }

      }

  );
</script>
</html>